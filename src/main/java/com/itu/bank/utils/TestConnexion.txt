package com.itu.bank.utils; // <-- adapte le package Ã  ton projet

import java.sql.Connection;
import java.sql.SQLException;
import java.time.LocalDateTime;

import commodels.Change;


public class TestConnexion {

    public static void main(String[] args) {
        Connection con = null;

        try {
            // --- Tentative de connexion ---
            con = Connexion.getConnexion();
            System.out.println("âœ… Connexion rÃ©ussie Ã  la base de donnÃ©es PostgreSQL.");
            Change change = new Change(2);
            change.getChangeByIdAndDate(con,LocalDateTime.now());
            System.out.println("âœ… Change rÃ©cupÃ©rÃ© :");
            System.out.println("ID : " + change.getIdChange());
            System.out.println("Devise : " + change.getDevise());
            System.out.println("Date dÃ©but : " + change.getDateDebut());
            System.out.println("Date fin : " + change.getDateFin());
            System.out.println("Montant : " + change.getMontant());
        } catch (Exception e) {
            System.err.println("âŒ Erreur de connexion : " + e.getMessage());
            e.printStackTrace();
        } finally {
            try {
                Connexion.deconnexion();
                System.out.println("ğŸ”’ Connexion fermÃ©e avec succÃ¨s.");
            } catch (SQLException e) {
                System.err.println("âš ï¸ Erreur lors de la fermeture : " + e.getMessage());
            }
        }
    }
}
